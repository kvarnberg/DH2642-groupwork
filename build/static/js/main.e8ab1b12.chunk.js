(this["webpackJsonpproject-joke"]=this["webpackJsonpproject-joke"]||[]).push([[0],{24:function(e,t,n){},49:function(e,t,n){e.exports=n(80)},54:function(e,t,n){},55:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),c=n.n(o),l=(n(54),n(27)),u=n(12),i=n(13),s=n(16),m=n(14),d=n(17),p=(n(24),n(55),n(11)),h=n(28),f=n.n(h);f.a.initializeApp({apiKey:"AIzaSyBbB_i5vRtTL69ByXLdHcJoen8vCLCvFQY",authDomain:"project-joke-6bbc1.firebaseapp.com",databaseURL:"https://project-joke-6bbc1.firebaseio.com",projectId:"project-joke-6bbc1",storageBucket:"project-joke-6bbc1.appspot.com",messagingSenderId:"816301947427",appId:"1:816301947427:web:e0e5ff1c6ed3bc189b4f96",measurementId:"G-EH1FH88W1E"});var b=f.a.firestore(),E=f.a.auth();var j=function(){return r.a.createElement("nav",null,r.a.createElement(p.b,{style:{color:"black",textDecoration:"none"},to:"/"},r.a.createElement("h3",null,"logo")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/"},"home")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/random"},"random")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/search"},"search")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/jokes"},"jokes")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/about"},"about")),r.a.createElement("li",null,r.a.createElement(p.b,{onClick:function(){E.signOut()}},"logout"))))},v=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("h1",null,"Home page"),r.a.createElement("h3",null,"You are now logged in"),r.a.createElement("div",null,"Other users jokes:"))}}]),t}(r.a.Component),g=n(20),k=n.n(g),O=n(23);var w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).addToUser=function(){var e=localStorage.user;b.collection("users").doc(e).collection("savedjokes").add({content:n.state.joke,apiId:n.state.id}).then((function(){alert("Joke has been added")})).catch((function(e){alert(e.message)}))},n.state={loading:!0,joke:"",id:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://icanhazdadjoke.com/",e.next=3,fetch("https://icanhazdadjoke.com/",{headers:{accept:"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.setState({loading:!1,joke:n.joke,id:n.id});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loading?r.a.createElement("div",null,"loading..."):r.a.createElement("div",null,r.a.createElement("div",null,this.state.joke)),r.a.createElement("button",{className:"smolbtn",onClick:y},"Get another random joke"),r.a.createElement("br",null),r.a.createElement("button",{className:"smolbtn",onClick:this.addToUser},"Save this joke"))}}]),t}(r.a.Component);function y(){window.location.reload()}var C=function(){return r.a.createElement("div",{className:"Random"},r.a.createElement(j,null),r.a.createElement("header",{className:"App-header"},r.a.createElement(w,null)))},S=n(21),I=(n(76),n(85)),x=n(84);function A(){var e=Object(a.useState)([]),t=Object(S.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(S.a)(c,2),u=l[0],i=l[1],s=localStorage.user,m=Object(a.useRef)(null);Object(a.useEffect)((function(){m.current.focus()}),[]);var d=function(){var e=Object(O.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://icanhazdadjoke.com/search?term=".concat(t),e.next=3,fetch(n,{headers:{accept:"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r.results);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var e=Object(O.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",o([]));case 2:return e.next=5,d(u);case 5:t=e.sent,o(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]);var p=n.map((function(e){return r.a.createElement(I.a.Item,null,e.joke,r.a.createElement("button",{onClick:function(){return h(e)}},"Save"))})),h=function(e){b.collection("users").doc(s).collection("savedjokes").add({content:e.joke,apiId:e.id}).then((function(){alert("Joke has been added")})).catch((function(e){alert(e.message)}))},f={color:"black",backgroundColor:"white",padding:"10px",fontFamily:"Times"};return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("h4",{style:f},"Search For A Joke"),r.a.createElement(x.a.Control,{style:f,placeholder:"Search for a Joke...",ref:m,onChange:function(e){return i(e.target.value)},value:u}),r.a.createElement("div",{style:f},p))}var N=function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("div",{className:"App"},"about"))},J=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{id:"signForm"},r.a.createElement("input",{value:this.props.email,onChange:this.props.handleChange,type:"email",name:"email",placeholder:"enter email"}),r.a.createElement("br",null),r.a.createElement("input",{value:this.props.password,onChange:this.props.handleChange,type:"password",name:"password",placeholder:"enter password"}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",onClick:this.props.login},"Login"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.props.signup},"Signup")))}}]),t}(r.a.Component),D=n(45),L=(n(79),function(e){var t=e.joke,n=t.content,a=localStorage.user;return r.a.createElement(I.a.Item,null,n,r.a.createElement("img",{alt:"delete button",src:"https://img.icons8.com/carbon-copy/30/000000/filled-trash.png",onClick:function(){b.collection("users").doc(a).collection("savedjokes").doc(t.id).delete().then((function(){alert("Joke has been deleted")})).catch((function(e){alert(e.message)}))}}))});var B=function(){var e=r.a.useState([]),t=Object(S.a)(e,2),n=t[0],a=t[1],o=r.a.useState(""),c=Object(S.a)(o,2),l=c[0],u=c[1],i=localStorage.user;r.a.useEffect((function(){return b.collection("users").doc(i).collection("savedjokes").onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(D.a)({},e.data(),{id:e.id}))})),a(t)}))}),[i]);var s={flexDirection:"column"};return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("input",{value:l,onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{onClick:function(){b.collection("users").doc(i).collection("savedjokes").add({content:l}).then((function(){alert("Joke has been added"),window.location="/"})).catch((function(e){alert(e.message)}))}},"Add"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{style:s,key:e.id},r.a.createElement(L,{joke:e}))}))))},F=n(18),T=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).login=function(e){e.preventDefault(),E.signInWithEmailAndPassword(n.state.email,n.state.password).then((function(e){console.log(e.user.uid)})).catch((function(e){alert(e)}))},n.signup=function(e){e.preventDefault(),E.createUserWithEmailAndPassword(n.state.email,n.state.password).then((function(e){b.collection("users").doc(e.user.uid).set({user:e.user.email,name:e.user.email})})).catch((function(e){alert(e)}))},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.state={user:{},email:"",password:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;E.onAuthStateChanged((function(t){t?(e.setState({user:t}),localStorage.setItem("user",t.uid)):(e.setState({user:null}),localStorage.removeItem("user"),console.log("not logged in"))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},this.state.user?r.a.createElement(p.a,null,r.a.createElement(F.c,null,r.a.createElement(F.a,{path:"/",exact:!0,component:v}),r.a.createElement(F.a,{path:"/random",component:C}),r.a.createElement(F.a,{path:"/search",component:A}),r.a.createElement(F.a,{path:"/about",component:N}),r.a.createElement(F.a,{path:"/jokes",component:B}),r.a.createElement(F.a,{path:"*",component:function(){return"404 NOT FOUND IN THIS APP-UNIVERSE"}}))):r.a.createElement(p.a,null,r.a.createElement(F.c,null,r.a.createElement(F.a,{path:"/",render:function(t){return r.a.createElement(J,Object.assign({},t,{email:e.state.email,password:e.state.password,signup:e.signup,login:e.login,handleChange:e.handleChange}))}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.e8ab1b12.chunk.js.map