{"ast":null,"code":"var _jsxFileName = \"/Users/josephinekvarnberg/Documents/GitHub/jkv-juliahua-jumanm-saranaz-week2/src/components/jokes/Jokes.js\";\nimport React from \"react\";\nimport firebase from \"firebase\";\nimport Nav from \"../nav/Nav\";\nimport { JokeInput } from \"./JokeInput\";\n\nfunction Jokes() {\n  const [jokes, setJokes] = React.useState([]);\n  const [newJokeContent, setNewJokeContent] = React.useState(\"\");\n  const user = localStorage.user;\n  React.useEffect(() => {\n    const db = firebase.firestore();\n    return db.collection(\"users\").doc(user).collection(\"savedjokes\").onSnapshot(snapshot => {\n      const jokesData = [];\n      snapshot.forEach(doc => jokesData.push({ ...doc.data(),\n        id: doc.id\n      }));\n      setJokes(jokesData);\n    });\n  }, [user]);\n\n  const onCreate = () => {\n    const db = firebase.firestore();\n    db.collection(\"users\").doc(user).collection(\"savedjokes\").add({\n      content: newJokeContent\n    });\n    document.getElementById(\"create-course-form\").reset();\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    value: newJokeContent,\n    onChange: e => setNewJokeContent(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: onCreate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Add\")), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, jokes.map(joke => React.createElement(\"li\", {\n    key: joke.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(JokeInput, {\n    joke: joke,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })))));\n}\n\nexport default Jokes;","map":{"version":3,"sources":["/Users/josephinekvarnberg/Documents/GitHub/jkv-juliahua-jumanm-saranaz-week2/src/components/jokes/Jokes.js"],"names":["React","firebase","Nav","JokeInput","Jokes","jokes","setJokes","useState","newJokeContent","setNewJokeContent","user","localStorage","useEffect","db","firestore","collection","doc","onSnapshot","snapshot","jokesData","forEach","push","data","id","onCreate","add","content","document","getElementById","reset","e","target","value","map","joke"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,SAASC,KAAT,GAAiB;AACf,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,KAAK,CAACO,QAAN,CAAe,EAAf,CAA1B;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCT,KAAK,CAACO,QAAN,CAAe,EAAf,CAA5C;AACA,QAAMG,IAAI,GAAGC,YAAY,CAACD,IAA1B;AAEAV,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpB,UAAMC,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAX;AACA,WAAOD,EAAE,CACNE,UADI,CACO,OADP,EAEJC,GAFI,CAEAN,IAFA,EAGJK,UAHI,CAGO,YAHP,EAIJE,UAJI,CAIOC,QAAQ,IAAI;AACtB,YAAMC,SAAS,GAAG,EAAlB;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAiBJ,GAAG,IAAIG,SAAS,CAACE,IAAV,CAAe,EAAE,GAAGL,GAAG,CAACM,IAAJ,EAAL;AAAiBC,QAAAA,EAAE,EAAEP,GAAG,CAACO;AAAzB,OAAf,CAAxB;AACAjB,MAAAA,QAAQ,CAACa,SAAD,CAAR;AACD,KARI,CAAP;AASD,GAXD,EAWG,CAACT,IAAD,CAXH;;AAaA,QAAMc,QAAQ,GAAG,MAAM;AACrB,UAAMX,EAAE,GAAGZ,QAAQ,CAACa,SAAT,EAAX;AACAD,IAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EACGC,GADH,CACON,IADP,EAEGK,UAFH,CAEc,YAFd,EAGGU,GAHH,CAGO;AAAEC,MAAAA,OAAO,EAAElB;AAAX,KAHP;AAIAmB,IAAAA,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,KAA9C;AACD,GAPD;;AASA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAErB,cADT;AAEE,IAAA,QAAQ,EAAEsB,CAAC,IAAIrB,iBAAiB,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAKE;AAAQ,IAAA,OAAO,EAAER,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WALF,CAFF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnB,KAAK,CAAC4B,GAAN,CAAUC,IAAI,IACb;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACX,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEW,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,CADH,CATF,CADF;AAmBD;;AAED,eAAe9B,KAAf","sourcesContent":["import React from \"react\";\nimport firebase from \"firebase\";\nimport Nav from \"../nav/Nav\";\nimport { JokeInput } from \"./JokeInput\";\n\nfunction Jokes() {\n  const [jokes, setJokes] = React.useState([]);\n  const [newJokeContent, setNewJokeContent] = React.useState(\"\");\n  const user = localStorage.user;\n\n  React.useEffect(() => {\n    const db = firebase.firestore();\n    return db\n      .collection(\"users\")\n      .doc(user)\n      .collection(\"savedjokes\")\n      .onSnapshot(snapshot => {\n        const jokesData = [];\n        snapshot.forEach(doc => jokesData.push({ ...doc.data(), id: doc.id }));\n        setJokes(jokesData);\n      });\n  }, [user]);\n\n  const onCreate = () => {\n    const db = firebase.firestore();\n    db.collection(\"users\")\n      .doc(user)\n      .collection(\"savedjokes\")\n      .add({ content: newJokeContent });\n    document.getElementById(\"create-course-form\").reset();\n  };\n\n  return (\n    <div>\n      <Nav />\n      <form>\n        <input\n          value={newJokeContent}\n          onChange={e => setNewJokeContent(e.target.value)}\n        />\n        <button onClick={onCreate}>Add</button>\n      </form>\n      <ul>\n        {jokes.map(joke => (\n          <li key={joke.id}>\n            <JokeInput joke={joke} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Jokes;\n"]},"metadata":{},"sourceType":"module"}